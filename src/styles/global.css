@import 'tailwindcss';

@font-face {
  font-family: 'GT America';
  src: url('/fonts/gt-america-regular.woff2') format('woff2');
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'GT America';
  src: url('/fonts/gt-america-bold.woff2') format('woff2');
  font-weight: 700;
  font-style: normal;
  font-display: swap;
}

/* Enable alternative single-story "g" and other GT America features */
html {
  font-feature-settings: 'ss01' 1; /* Single-story g */
}

/* Define semantic tokens that respond to prefers-color-scheme */
:root {
  --background: var(--color-gray-100);
  --foreground-primary: var(--color-gray-950);
  --foreground-secondary: var(--color-gray-600);
  --foreground-inverted: var(--color-gray-100);
  --interactive-primary-default: var(--color-blue-700);
  --interactive-primary-hover: var(--color-blue-800);
  --interactive-secondary-default: var(--color-gray-700);
  --interactive-secondary-hover: var(--color-gray-800);
  --interactive-tertiary-default: var(--color-gray-400);
  --interactive-tertiary-hover: var(--color-gray-200);
  --border-default: var(--color-gray-400);
  --border-subtle: var(--color-gray-300);
}

@media (prefers-color-scheme: dark) {
  :root {
    --background: var(--color-gray-900);
    --foreground-primary: var(--color-gray-200);
    --foreground-secondary: var(--color-gray-400);
    --foreground-inverted: var(--color-gray-900);
    --interactive-primary-default: var(--color-blue-600);
    --interactive-primary-hover: var(--color-blue-500);
    --interactive-secondary-default: var(--color-gray-300);
    --interactive-secondary-hover: var(--color-gray-100);
    --interactive-tertiary-default: var(--color-gray-700);
    --interactive-tertiary-hover: var(--color-gray-800);
    --border-default: var(--color-gray-600);
    --border-subtle: var(--color-gray-700);
  }
}

@theme {
  --font-sans:
    'GT America', Helvetica, Arial, ui-sans-serif, system-ui, sans-serif, 'Apple Color Emoji',
    'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  --font-display:
    'GT America', Helvetica, Arial, ui-sans-serif, system-ui, sans-serif, 'Apple Color Emoji',
    'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';

  --default-font-feature-settings: 'ss01' 1;

  --container-8xl: 90rem;
  --section-height: 50.625rem;

  --tracking-tightest: -0.16rem;
  --tracking-tighter: -0.08rem;
  --tracking-tight: -0.04rem;
  --tracking-wide: 0.04rem;
  --tracking-wider: 0.08rem;
  --tracking-widest: 0.16rem;

  /* Typography tokens */
  --font-size-headline-xl: var(--text-5xl);
  --line-height-headline-xl: var(--text-5xl--line-height);
  --letter-spacing-headline-xl: var(--tracking-tighter);

  --font-size-headline-lg: var(--text-3xl);
  --line-height-headline-lg: var(--text-3xl--line-height);
  --letter-spacing-headline-lg: var(--tracking-tight);

  --font-size-headline-sm: var(--text-lg);
  --line-height-headline-sm: var(--text-lg--line-height);
  --letter-spacing-headline-sm: var(--tracking-normal);

  --font-size-headline-xs: var(--text-base);
  --line-height-headline-xs: var(--text-base--line-height);
  --letter-spacing-headline-xs: var(--tracking-normal);

  --font-size-body-lg: var(--text-lg);
  --line-height-body-lg: var(--text-lg--line-height);
  --letter-spacing-body-lg: var(--tracking-normal);

  --font-size-body-base: var(--text-base);
  --line-height-body-base: var(--text-base--line-height);
  --letter-spacing-body-base: var(--tracking-normal);

  --font-size-body-sm: var(--text-sm);
  --line-height-body-sm: var(--text-sm--line-height);
  --letter-spacing-body-sm: var(--tracking-normal);

  /* Use stone as gray color palette */
  --color-gray-50: oklch(0.985 0.001 106.423);
  --color-gray-100: oklch(0.97 0.001 106.424);
  --color-gray-200: oklch(0.923 0.003 48.717);
  --color-gray-300: oklch(0.869 0.005 56.366);
  --color-gray-400: oklch(0.709 0.01 56.259);
  --color-gray-500: oklch(0.553 0.013 58.071);
  --color-gray-600: oklch(0.444 0.011 73.639);
  --color-gray-700: oklch(0.374 0.01 67.558);
  --color-gray-800: oklch(0.268 0.007 34.298);
  --color-gray-900: oklch(0.216 0.006 56.043);
  --color-gray-950: oklch(0.147 0.004 49.25);

  /* Assign semantic color tokens */
  --color-background: var(--background);
  --color-foreground-primary: var(--foreground-primary);
  --color-foreground-secondary: var(--foreground-secondary);
  --color-foreground-inverted: var(--foreground-inverted);
  --color-interactive-primary-default: var(--interactive-primary-default);
  --color-interactive-primary-hover: var(--interactive-primary-hover);
  --color-interactive-secondary-default: var(--interactive-secondary-default);
  --color-interactive-secondary-hover: var(--interactive-secondary-hover);
  --color-interactive-tertiary-default: var(--interactive-tertiary-default);
  --color-interactive-tertiary-hover: var(--interactive-tertiary-hover);
  --color-border-default: var(--border-default);
  --color-border-subtle: var(--border-subtle);
}

@layer utilities {
  .max-w-8xl {
    max-width: var(--container-8xl);
  }
  .min-h-section {
    min-height: var(--section-height);
  }

  .headline-xl {
    font-family: var(--font-display);
    font-size: var(--font-size-headline-xl);
    line-height: var(--line-height-headline-xl);
    letter-spacing: var(--letter-spacing-headline-xl);
    font-weight: 700;
  }

  .headline-lg {
    font-family: var(--font-display);
    font-size: var(--font-size-headline-lg);
    line-height: var(--line-height-headline-lg);
    letter-spacing: var(--letter-spacing-headline-lg);
    font-weight: 700;
  }

  .headline-sm {
    font-family: var(--font-sans);
    font-size: var(--font-size-headline-sm);
    line-height: var(--line-height-headline-sm);
    letter-spacing: var(--letter-spacing-headline-sm);
    font-weight: 700;
  }

  .headline-xs {
    font-family: var(--font-sans);
    font-size: var(--font-size-headline-xs);
    line-height: var(--line-height-headline-xs);
    letter-spacing: var(--letter-spacing-headline-xs);
    font-weight: 700;
  }

  .body-lg {
    font-family: var(--font-sans);
    font-size: var(--font-size-body-lg);
    line-height: var(--line-height-body-lg);
    letter-spacing: var(--letter-spacing-body-lg);
    font-weight: 400;
  }

  .body-base {
    font-family: var(--font-sans);
    font-size: var(--font-size-body-base);
    line-height: var(--line-height-body-base);
    letter-spacing: var(--letter-spacing-body-base);
    font-weight: 400;
  }

  .body-sm {
    font-family: var(--font-sans);
    font-size: var(--font-size-body-sm);
    line-height: var(--line-height-body-sm);
    letter-spacing: var(--letter-spacing-body-sm);
    font-weight: 400;
  }

  .prose {
    & p {
      font-family: var(--font-sans);
      font-size: var(--font-size-body-base);
      line-height: var(--line-height-body-base);
      letter-spacing: var(--letter-spacing-body-base);
      margin-bottom: 1.25rem;
      color: var(--color-foreground-primary);
    }

    & h2 {
      font-family: var(--font-display);
      font-size: var(--font-size-headline-sm);
      line-height: var(--line-height-headline-sm);
      letter-spacing: var(--letter-spacing-headline-sm);
      font-weight: 600;
      margin-top: 2.5rem;
      margin-bottom: 1rem;
      color: var(--color-foreground-primary);
    }

    & h3 {
      font-family: var(--font-display);
      font-size: var(--font-size-headline-xs);
      line-height: var(--line-height-headline-xs);
      letter-spacing: var(--letter-spacing-headline-xs);
      font-weight: 600;
      margin-top: 2rem;
      margin-bottom: 0.75rem;
      color: var(--color-foreground-primary);
    }

    & h4 {
      font-family: var(--font-sans);
      font-size: var(--font-size-body-lg);
      line-height: var(--line-height-body-lg);
      letter-spacing: var(--letter-spacing-body-lg);
      font-weight: 600;
      margin-top: 1.5rem;
      margin-bottom: 0.5rem;
      color: var(--color-foreground-primary);
    }

    & ul,
    & ol {
      font-family: var(--font-sans);
      font-size: var(--font-size-body-base);
      line-height: var(--line-height-body-base);
      margin-bottom: 1.25rem;
      padding-left: 0;
    }

    & li {
      margin-bottom: 0.5rem;
    }

    & ul > li {
      list-style-type: disc;
    }

    & ol > li {
      list-style-type: decimal;
    }

    & a:not(.button) {
      color: var(--color-interactive-secondary-default);
      text-decoration: underline;
      text-underline-offset: 2px;
      @apply transition-colors duration-200;
      text-decoration-color: var(--color-border-default);

      &:hover {
        color: var(--color-interactive-secondary-hover);
        text-decoration-color: var(--color-interactive-secondary-hover);
      }
    }

    & > *:last-child {
      margin-bottom: 0;
    }
  }
}
