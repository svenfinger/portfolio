---
import type { Mark, Props as $ } from 'astro-portabletext/types';

export type Props = $<Mark>;

const props = Astro.props;
const { node } = props;
const href = (node as any).markDef?.href || '#';
const isExternal = href.startsWith('http://') || href.startsWith('https://');
const isEmail = href.startsWith('mailto:');
---

<a
  href={href}
  target={isExternal ? '_blank' : undefined}
  rel={isExternal ? 'noopener noreferrer' : undefined}><slot /></a
>
