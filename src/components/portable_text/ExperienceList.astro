---
import Button from '../Button.astro';
import type { ExperienceList } from '../../lib/sanityTypes';

interface Props {
  node: ExperienceList;
}

const { node } = Astro.props;
const items = node.experiences || [];
const link = node.link;
---

<ul class="divide-y divide-gray-200 dark:divide-gray-800 space-y-6">
  {
    items.map((item) => (
      <li class="pb-6 grid grid-cols-2 sm:grid-cols-3 gap-6">
        <div class="grid sm:grid-cols-2 sm:col-span-2">
          <span>{item.company}</span>
          <span>{item.jobTitle}</span>
        </div>
        <span class="text-gray-500 dark:text-gray-400">{item.timeframe}</span>
      </li>
    ))
  }
</ul>

{
  link && link.url && link.text && (
    <div>
      <Button
        href={link.url}
        text={link.text}
        target="_blank"
        rel="noopener noreferrer"
        variant="primary"
      />
    </div>
  )
}
